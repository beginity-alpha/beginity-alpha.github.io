(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{742:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{default:()=>u});var n=a(5155),l=a(2115),r=a(5799);a(5716);var i=a(7185),o=a(283),c=a(4239),d=e([i,o]);[i,o]=d.then?(await d)():d;let u=()=>{let[e,t]=(0,l.useState)("events");return(0,n.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 font-sans bg-gray-50 min-h-screen",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-800 text-center md:text-left",children:"\uD83C\uDF93 Student Dashboard"}),(0,n.jsx)("button",{onClick:c.eg.handler(()=>{window.location.href="/LoginSignUp"},e=>console.error(e)),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-all duration-300",children:"Logout"})]}),(0,n.jsx)("div",{className:"flex flex-wrap justify-center md:justify-start border-b border-gray-300 mb-6",children:[{id:"events",label:"All Events"},{id:"classroom",label:"Classroom"}].map(a=>(0,n.jsx)("button",{onClick:()=>t(a.id),className:"flex-1 md:flex-none px-4 py-2 text-sm sm:text-base text-center transition-all duration-300 \n              border-b-4 ".concat(e===a.id?"border-blue-500 font-semibold text-blue-600":"border-transparent text-gray-600 hover:text-blue-500"),children:a.label},a.id))}),(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 overflow-auto",children:(()=>{switch(e){case"events":return(0,n.jsx)(i.default,{});case"classroom":return(0,n.jsx)(o.A,{});default:return(0,n.jsx)("div",{className:"text-gray-500",children:"Select an option from the tabs."})}})()}),(0,n.jsx)(r.ToastContainer,{})]})};s()}catch(e){s(e)}})},960:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s={src:"/_next/static/media/logo.21932253.png",height:779,width:779,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEX////SwcD20dPzwr7t9fGfurt5nKro7e3J29ymysbforXaxM6rvsT74tnuqaDQo7fU4uj4/Pz59/Ww2dPZ3NjWuLvtwcTZ29XZ6euLwcDGvt3gnKOVusP78eayxdOdqbTZt8+Mr7ntycW5vtCoSi2zAAAACXBIWXMAABcRAAAXEQHKJvM/AAAARUlEQVR4nBXLxxGAIAAAwUOyKJhztv8eHfe/QFlmGcCTy5TGmj2mazn8hIzhLfzcMqxC34V2NH3YTuEVqM6Yyv7NOmfhA3Z3AwyhtdhdAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},5716:()=>{},6004:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{A:()=>u});var n=a(5155),l=a(6874),r=a.n(l),i=a(6766),o=a(960),c=a(4239),d=a(5799);let e=await (0,c.VU)();function u(t){let{id:a,title:s,date:l,location:u,img:h}=t;return(0,n.jsxs)("div",{className:"relative gap-2 w-full md:w-1/2 lg:w-1/3 p-4 mt-1",children:[(0,n.jsx)(r(),{href:"/events/detail?id=".concat(a),className:"block",children:(0,n.jsx)("div",{className:"bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-2xl transition-shadow duration-300",children:(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(i.default,{src:h||o.A,alt:s,width:400,height:250,unoptimized:!0,className:"w-full h-48 object-cover"})})})}),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:s}),(0,n.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:new Date(l).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}),e&&(0,n.jsx)("button",{className:"absolute right-4 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 z-10",onClick:()=>{(0,c.xF)("".concat(c.AS,"/api/attendances/").concat(a),"POST",{}).then(e=>d.oR.success(e.message)).catch(e=>d.oR.error(e.message))},children:"Enroll"}),(0,n.jsx)("p",{className:"text-gray-800 mt-2",children:u})]})]})}console.log(e),s()}catch(e){s(e)}},1)},7185:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{default:()=>d});var n=a(5155),l=a(2115),r=a(6004),i=a(4239),o=a(8457),c=e([r]);r=(c.then?(await c)():c)[0];let u={all:"/api/events",upcoming:"/api/events/upcoming",ongoing:"/api/events/ongoing",ended:"/api/events/ended"};function d(){let[e,t]=(0,l.useState)([]),[a,s]=(0,l.useState)("all"),[c,d]=(0,l.useState)(!0),[h,m]=(0,l.useState)("");return((0,l.useEffect)(()=>{let e=!0;return(async()=>{d(!0),m("");try{let s;if("all"===a&&"function"==typeof i.kQ)s=await (0,i.kQ)();else{let e=u[a];s=await (0,i.In)("".concat(i.AS).concat(e),"GET")}let n=Array.isArray(s)?s:(null==s?void 0:s.events)||[];e&&t(n)}catch(t){e&&m((null==t?void 0:t.message)||"Failed to load events")}finally{e&&d(!1)}})(),()=>{e=!1}},[a]),c)?(0,n.jsx)(o.A,{}):h?(0,n.jsx)("p",{className:"text-red-500 text-center p-4",children:h}):(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"w-full p-4 bg-white border-b sticky top-[64px] z-40",children:(0,n.jsx)("div",{className:"flex gap-3 overflow-x-auto",children:["all","upcoming","ongoing","ended"].map(e=>(0,n.jsx)("button",{onClick:()=>s(e),className:"px-4 py-2 rounded-full text-sm font-semibold transition\n                ".concat(a===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300","\n              "),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,n.jsxs)("div",{className:"flex flex-wrap",children:[e.map(e=>{var t;let a=(null==e?void 0:e.start_time)?new Date(e.start_time):null,s=a?a.getFullYear():"N/A",l=a?a.getMonth()+1:"N/A";return(0,n.jsx)(r.A,{id:e._id,heading:e.title,date:{year:s,month:l},location:(null==e||null==(t=e.location)?void 0:t.address)||"Unknown",img:(null==e?void 0:e.image)?"".concat(i.AS).concat(e.image):"./logo.png"},e._id)}),!e.length&&(0,n.jsx)("p",{className:"w-full text-center text-gray-500 text-xl mt-6",children:"No events found."})]})]})}s()}catch(e){s(e)}})},8122:(e,t,a)=>{Promise.resolve().then(a.bind(a,742))},8457:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(5155),n=a(2115),l=a(5695),r=a(8020);function i(e){let{children:t}=e,[a,i]=(0,n.useState)(!1),o=(0,l.usePathname)();return(0,n.useEffect)(()=>{i(!0);let e=setTimeout(()=>{i(!1)},800);return()=>clearTimeout(e)},[o]),(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)(r.A,{}),t]})}}},e=>{e.O(0,[797,311,298,766,799,874,283,441,964,358],()=>e(e.s=8122)),_N_E=e.O()}]);