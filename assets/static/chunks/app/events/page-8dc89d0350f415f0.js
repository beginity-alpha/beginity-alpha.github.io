(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{960:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n={src:"/assets/static/media/logo.21932253.png",height:779,width:779,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEX////SwcD20dPzwr7t9fGfurt5nKro7e3J29ymysbforXaxM6rvsT74tnuqaDQo7fU4uj4/Pz59/Ww2dPZ3NjWuLvtwcTZ29XZ6euLwcDGvt3gnKOVusP78eayxdOdqbTZt8+Mr7ntycW5vtCoSi2zAAAACXBIWXMAABcRAAAXEQHKJvM/AAAARUlEQVR4nBXLxxGAIAAAwUOyKJhztv8eHfe/QFlmGcCTy5TGmj2mazn8hIzhLfzcMqxC34V2NH3YTuEVqM6Yyv7NOmfhA3Z3AwyhtdhdAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},2262:(e,t,a)=>{Promise.resolve().then(a.bind(a,7185)),Promise.resolve().then(a.bind(a,5799))},6004:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var l=a(5155),i=a(6874),s=a.n(i),r=a(6766),c=a(960),o=a(4239),d=a(5799);let e=await (0,o.VU)();function u(t){let{id:a,heading:n,date:i,location:u,img:g,status:m}=t;return(0,l.jsx)("div",{className:"w-full p-3",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group h-full flex flex-col relative",children:[m&&(0,l.jsx)("span",{className:"absolute top-3 right-3 px-3 py-1 text-xs font-semibold rounded-full z-20\n              ".concat("Ended"===m&&"bg-red-600 text-white","\n              ").concat("Ongoing"===m&&"bg-green-600 text-white","\n              ").concat("Upcoming"===m&&"bg-blue-600 text-white","\n            "),children:m}),(0,l.jsx)(s(),{href:"/events/detail?id=".concat(a),className:"block",children:(0,l.jsx)("div",{className:"relative w-full h-52",children:(0,l.jsx)(r.default,{src:g||c.A,alt:n,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300\n                ".concat("Ended"===m?"opacity-70 grayscale":"","\n              ")})})}),(0,l.jsxs)("div",{className:"flex flex-col flex-grow justify-between p-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold leading-tight",children:n}),(0,l.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:(null==i?void 0:i.year)!=="N/A"?"".concat(i.month,"/").concat(i.year):"Invalid Date"}),(0,l.jsx)("p",{className:"text-gray-700 font-medium mt-3",children:u})]}),e&&(0,l.jsx)("button",{onClick:()=>{(0,o.xF)("".concat(o.AS,"/api/attendances/").concat(a),"POST",{}).then(e=>d.oR.success(e.message)).catch(e=>d.oR.error(e.message))},className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg    text-sm font-semibold hover:bg-blue-700 transition-colors",children:"Enroll"})]})]})})}n()}catch(e){n(e)}},1)},7185:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{default:()=>d});var l=a(5155),i=a(2115),s=a(6004),r=a(4239),c=a(8457),o=e([s]);s=(o.then?(await o)():o)[0];let u={all:"/api/events",upcoming:"/api/events/upcoming",ongoing:"/api/events/ongoing",ended:"/api/events/ended"};function d(){let[e,t]=(0,i.useState)([]),[a,n]=(0,i.useState)("all"),[o,d]=(0,i.useState)(!0),[g,m]=(0,i.useState)(""),h=(0,i.useRef)(0);return((0,i.useEffect)(()=>{let e=++h.current,n=!1;return(async()=>{d(!0),m("");try{let l;if("all"===a&&"function"==typeof r.kQ)l=await (0,r.kQ)();else{let e=u[a]||u.all;l=await (0,r.In)("".concat(r.AS).concat(e),"GET")}if(n||e!==h.current)return;let i=Array.isArray(l)?l:(null==l?void 0:l.events)||[];t(i)}catch(t){if(n||e!==h.current)return;m((null==t?void 0:t.message)||"Failed to load events")}finally{if(n||e!==h.current)return;d(!1)}})(),()=>{n=!0}},[a]),o)?(0,l.jsx)(c.A,{}):g?(0,l.jsx)("p",{className:"text-red-500 text-center p-4",children:g}):(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"w-full p-4 bg-white border-b mb-6",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-3",children:["all","upcoming","ongoing","ended"].map(e=>(0,l.jsx)("button",{onClick:()=>n(e),className:"px-4 py-2 rounded-full text-sm font-semibold transition\n                ".concat(a===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300","\n              "),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[0===e.length&&(0,l.jsx)("p",{className:"w-full text-center text-gray-500 text-xl mt-6",children:"No events found."}),e.map(e=>{var t;let a=(null==e?void 0:e.start_time)?new Date(e.start_time):null,n=(null==e?void 0:e.end_time)?new Date(e.end_time):null,i=new Date,c=a?a.getFullYear():"N/A",o=a?a.getMonth()+1:"N/A",d="Upcoming";return n&&i>n?d="Ended":a&&n&&i>=a&&i<=n&&(d="Ongoing"),(0,l.jsx)(s.A,{id:e._id||e.id,heading:e.title,date:{year:c,month:o},location:(null==e||null==(t=e.location)?void 0:t.address)||"Unknown",img:(null==e?void 0:e.image)?"".concat(r.AS).concat(e.image):void 0,status:d},e._id||e.id)})]})]})}n()}catch(e){n(e)}})},8020:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(5155),l=a(6766),i=a(8274);function s(){return(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white",children:[(0,n.jsx)(i.P.div,{initial:{scale:.8,opacity:.5},animate:{scale:[.9,1.1,.9],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute w-64 h-64 rounded-full bg-gradient-to-tr from-blue-400 to-purple-500 blur-3xl opacity-30"}),(0,n.jsx)(i.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:"easeOut"},children:(0,n.jsx)(l.default,{src:"/loader.png",alt:"Loading...",width:200,height:200,priority:!0,className:"drop-shadow-lg"})}),(0,n.jsx)(i.P.p,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0},className:"mt-6 text-lg font-semibold text-gray-600",children:"Loading..."})]})}},8457:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(5155),l=a(2115),i=a(5695),s=a(8020);function r(e){let{children:t}=e,[a,r]=(0,l.useState)(!1),c=(0,i.usePathname)();return(0,l.useEffect)(()=>{r(!0);let e=setTimeout(()=>{r(!1)},800);return()=>clearTimeout(e)},[c]),(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsx)(s.A,{}),t]})}}},e=>{e.O(0,[298,311,766,293,874,239,441,964,358],()=>e(e.s=2262)),_N_E=e.O()}]);