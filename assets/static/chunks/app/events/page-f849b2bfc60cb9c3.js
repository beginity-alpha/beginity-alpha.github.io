(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{630:(e,t,a)=>{Promise.resolve().then(a.bind(a,2838)),Promise.resolve().then(a.bind(a,5799))},960:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n={src:"/assets/static/media/logo.21932253.png",height:779,width:779,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEX////SwcD20dPzwr7t9fGfurt5nKro7e3J29ymysbforXaxM6rvsT74tnuqaDQo7fU4uj4/Pz59/Ww2dPZ3NjWuLvtwcTZ29XZ6euLwcDGvt3gnKOVusP78eayxdOdqbTZt8+Mr7ntycW5vtCoSi2zAAAACXBIWXMAABcRAAAXEQHKJvM/AAAARUlEQVR4nBXLxxGAIAAAwUOyKJhztv8eHfe/QFlmGcCTy5TGmj2mazn8hIzhLfzcMqxC34V2NH3YTuEVqM6Yyv7NOmfhA3Z3AwyhtdhdAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},2838:(e,t,a)=>{"use strict";a.d(t,{default:()=>f});var n=a(5155),l=a(2115),i=a(4239),s=a(960),r=a(6766),c=a(6874),o=a.n(c),d=a(5799);function u(e){let{id:t,heading:a,date:c,location:u,img:g,status:m}=e,[h,x]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{(0,i.VU)().then(e=>x(e))},[]),(0,n.jsx)("div",{className:"w-full p-3",children:(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group h-full flex flex-col relative",children:[m&&(0,n.jsx)("span",{className:"absolute top-3 right-3 px-3 py-1 text-xs font-semibold rounded-full z-20\n              ".concat("Ended"===m&&"bg-red-600 text-white","\n              ").concat("Ongoing"===m&&"bg-green-600 text-white","\n              ").concat("Upcoming"===m&&"bg-blue-600 text-white","\n            "),children:m}),(0,n.jsx)(o(),{href:"/events/detail?id=".concat(t),className:"block",children:(0,n.jsx)("div",{className:"relative w-full min-h-[350px]",children:(0,n.jsx)(r.default,{src:g||s.A,alt:a,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300\n                ".concat("Ended"===m?"opacity-70 grayscale":"","\n              ")})})}),(0,n.jsxs)("div",{className:"flex flex-col flex-grow justify-between p-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold leading-tight",children:a}),(0,n.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:(null==c?void 0:c.year)!=="N/A"?"".concat(c.month,"/").concat(c.year):"Invalid Date"}),(0,n.jsx)("p",{className:"text-gray-700 font-medium mt-3",children:u})]}),h&&(0,n.jsx)("button",{onClick:()=>{(0,i.xF)("".concat(i.AS,"/api/attendances/").concat(t),"POST",{}).then(e=>d.oR.success(e.message)).catch(e=>d.oR.error(e.message))},className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg    text-sm font-semibold hover:bg-blue-700 transition-colors",children:"Enroll"})]})]})})}var g=a(5695),m=a(8020);function h(e){let{children:t}=e,[a,i]=(0,l.useState)(!1),s=(0,g.usePathname)();return(0,l.useEffect)(()=>{i(!0);let e=setTimeout(()=>{i(!1)},800);return()=>clearTimeout(e)},[s]),(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsx)(m.A,{}),t]})}let x={all:"/api/events",upcoming:"/api/events/upcoming",ongoing:"/api/events/ongoing",ended:"/api/events/ended"};function f(){let[e,t]=(0,l.useState)([]),[a,s]=(0,l.useState)("all"),[r,c]=(0,l.useState)(!0),[o,d]=(0,l.useState)(""),g=(0,l.useRef)(0);return((0,l.useEffect)(()=>{let e=++g.current,n=!1;return(async()=>{c(!0),d("");try{let l;if("all"===a&&"function"==typeof i.kQ)l=await (0,i.kQ)();else{let e=x[a]||x.all;l=await (0,i.In)("".concat(i.AS).concat(e),"GET")}if(n||e!==g.current)return;let s=Array.isArray(l)?l:(null==l?void 0:l.events)||[];s.sort((e,t)=>{let a=new Date(e.start_time||0);return new Date(t.start_time||0)-a}),t(s)}catch(t){if(n||e!==g.current)return;d((null==t?void 0:t.message)||"Failed to load events")}finally{if(n||e!==g.current)return;c(!1)}})(),()=>{n=!0}},[a]),r)?(0,n.jsx)(h,{}):o?(0,n.jsx)("p",{className:"text-red-500 text-center p-4",children:o}):(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"w-full p-4 bg-white border-b mb-6",children:(0,n.jsx)("div",{className:"flex flex-wrap gap-3",children:["all","upcoming","ongoing","ended"].map(e=>(0,n.jsx)("button",{onClick:()=>s(e),className:"px-4 py-2 rounded-full text-sm font-semibold transition\n                ".concat(a===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300","\n              "),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[0===e.length&&(0,n.jsx)("p",{className:"w-full text-center text-gray-500 text-xl mt-6",children:"No events found."}),e.map(e=>{var t;let a=(null==e?void 0:e.start_time)?new Date(e.start_time):null,l=(null==e?void 0:e.end_time)?new Date(e.end_time):null,s=new Date,r=a?a.getFullYear():"N/A",c=a?a.getMonth()+1:"N/A",o="Upcoming";return l&&s>l?o="Ended":a&&l&&s>=a&&s<=l&&(o="Ongoing"),(0,n.jsx)(u,{id:e._id||e.id,heading:e.title,date:{year:r,month:c},location:(null==e||null==(t=e.location)?void 0:t.address)||"Unknown",img:(null==e?void 0:e.image)?"".concat(i.AS).concat(e.image):void 0,status:o},e._id||e.id)})]})]})}},4239:(e,t,a)=>{"use strict";a.d(t,{A$:()=>n.A$,AS:()=>n.AS,In:()=>n.In,Pq:()=>n.Pq,VU:()=>n.VU,Wj:()=>n.Wj,Yq:()=>n.Yq,bB:()=>n.bB,eg:()=>n.eg,iD:()=>n.iD,kQ:()=>n.kQ,lh:()=>n.lh,lo:()=>n.lo,qM:()=>n.qM,tq:()=>n.tq,xF:()=>n.xF,xw:()=>n.xw,zz:()=>n.zz});var n=a(2105)},8020:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(5155),l=a(6766),i=a(8274);function s(){return(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white",children:[(0,n.jsx)(i.P.div,{initial:{scale:.8,opacity:.5},animate:{scale:[.9,1.1,.9],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute w-64 h-64 rounded-full bg-gradient-to-tr from-blue-400 to-purple-500 blur-3xl opacity-30"}),(0,n.jsx)(i.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:"easeOut"},children:(0,n.jsx)(l.default,{src:"/loader.png",alt:"Loading...",width:200,height:200,priority:!0,className:"drop-shadow-lg"})}),(0,n.jsx)(i.P.p,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0},className:"mt-6 text-lg font-semibold text-gray-600",children:"Loading..."})]})}}},e=>{e.O(0,[726,311,766,874,105,441,964,358],()=>e(e.s=630)),_N_E=e.O()}]);