"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{4928:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(5155),l=t(2115),r=t(5799),n=t(8222),i=t(2105),o=t(8020);let d=e=>{let{classroomId:s,onClose:t,socket:n,messages:i=[],currentUser:o}=e,[d,c]=(0,l.useState)(""),[x,m]=(0,l.useState)(!1),h=(0,l.useRef)(null),u=(0,l.useRef)(null),g=(0,l.useRef)(0),p=(0,l.useCallback)(()=>{var e;null==(e=h.current)||e.scrollIntoView({behavior:"smooth"})},[]);(0,l.useEffect)(()=>{i.length>g.current&&setTimeout(p,100),g.current=i.length},[i,p]),(0,l.useEffect)(()=>{var e;null==(e=u.current)||e.focus(),setTimeout(p,100)},[p]);let f=(0,l.useCallback)(async()=>{let e=d.trim();if(e){if(!n)return void r.oR.error("Connection lost. Please refresh.");m(!0);try{var t;n.sendMessage(s,e),c(""),null==(t=u.current)||t.focus()}catch(e){console.error("Failed to send message:",e),r.oR.error("Failed to send message")}finally{m(!1)}}},[d,n,s]),b=(0,l.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},[f]),j=(0,l.useCallback)(()=>{(!d.trim()||window.confirm("You have unsent text. Close anyway?"))&&t()},[d,t]);(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&j()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[j]);let w=e=>e?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300",onClick:j,children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl flex flex-col h-[85vh] max-h-[700px] overflow-hidden border border-gray-100",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 bg-white border-b border-gray-100 shadow-sm z-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold",children:"#"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Class Discussion"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 font-medium",children:[i.length," messages"]})]})]})]}),(0,a.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",onClick:j,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50/50 custom-scrollbar",children:0===i.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 opacity-60",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"No messages yet. Be the first!"})]}):(0,a.jsxs)(a.Fragment,{children:[i.map((e,s)=>{let t=o&&e.nickname===o.nickname,l=s===i.length-1,r=0===s||i[s-1].nickname!==e.nickname;return(0,a.jsx)("div",{className:"flex w-full ".concat(t?"justify-end":"justify-start"," animate-in fade-in slide-in-from-bottom-2 duration-300"),children:(0,a.jsxs)("div",{className:"flex max-w-[75%] ".concat(t?"flex-row-reverse":"flex-row"," gap-2"),children:[(0,a.jsx)("div",{className:"flex-shrink-0 flex flex-col justify-end",children:r?(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold border-2 border-white shadow-sm ".concat(t?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"),children:(e=>e?e.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase():"?")(e.nickname)}):(0,a.jsx)("div",{className:"w-8"})}),(0,a.jsxs)("div",{className:"flex flex-col ".concat(t?"items-end":"items-start"),children:[r&&!t&&(0,a.jsx)("span",{className:"text-[11px] text-gray-500 font-semibold ml-1 mb-1",children:e.nickname}),(0,a.jsxs)("div",{className:"px-4 py-2.5 shadow-sm text-sm relative group ".concat(t?"bg-indigo-600 text-white rounded-2xl rounded-tr-none":"bg-white text-gray-800 border border-gray-100 rounded-2xl rounded-tl-none"),children:[(0,a.jsx)("p",{className:"whitespace-pre-wrap leading-relaxed",children:e.message}),(0,a.jsx)("div",{className:"absolute bottom-0 ".concat(t?"-left-12":"-right-12"," opacity-0 group-hover:opacity-100 transition-opacity text-[10px] text-gray-400 py-3"),children:w(e.createdAt||e.timestamp)})]}),l&&(0,a.jsxs)("span",{className:"text-[10px] text-gray-300 mt-1 px-1",children:[t?"Sent":"Received"," â€¢ ",w(e.createdAt||e.timestamp)]})]})]})},"".concat(e.timestamp||s,"-").concat(e.message))}),(0,a.jsx)("div",{ref:h})]})}),(0,a.jsxs)("div",{className:"p-4 bg-white border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-end gap-2 bg-gray-50 p-2 rounded-xl border border-gray-200 focus-within:border-indigo-400 focus-within:ring-2 focus-within:ring-indigo-100 transition-all",children:[(0,a.jsx)("textarea",{ref:u,className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-700 placeholder-gray-400 resize-none py-2 px-2 max-h-32 text-sm",placeholder:"Type your message...",value:d,onChange:e=>c(e.target.value),onKeyDown:b,rows:1,style:{minHeight:"44px"},disabled:x}),(0,a.jsx)("button",{className:"p-2 rounded-lg mb-1 transition-all duration-200 ".concat(d.trim()?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-md":"bg-gray-200 text-gray-400 cursor-not-allowed"),onClick:f,disabled:x||!d.trim(),children:x?(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 transform rotate-[-45deg] translate-x-0.5 -translate-y-0.5",children:(0,a.jsx)("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})})})]}),(0,a.jsxs)("p",{className:"text-[10px] text-center text-gray-400 mt-2",children:["Press ",(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-1 rounded",children:"Enter"})," to send"]})]})]})})},c=()=>{let e=(0,n.F)(),[s,t]=(0,l.useState)([]),[c,x]=(0,l.useState)(!0),[m,h]=(0,l.useState)(null),[u,g]=(0,l.useState)(null),[p,f]=(0,l.useState)({}),[b,j]=(0,l.useState)(""),w=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=!0;return(async()=>{try{let s=await (0,i.VU)();if(!e)return;h(s);let a=[];if(s.role,a=await (0,i.pn)(null),!e)return;let l=(null==a?void 0:a.length)?a:(null==a?void 0:a.classrooms)||[];t(l)}catch(e){console.error("Init Error:",e),r.oR.error("Failed to load classrooms")}finally{e&&x(!1)}})(),()=>{e=!1}},[]);let N=(0,l.useCallback)(e=>{let s=e.classroom_id||e.classroomId||e._id;t(t=>t.map(t=>String(t._id)===String(s)?{...t,discussion:[...t.discussion||[],{nickname:e.nickname||"User",message:e.message,createdAt:e.createdAt||new Date().toISOString(),timestamp:Date.now()}]}:t))},[]),v=(0,l.useCallback)((e,s)=>{"started"===e?r.oR.info("Attendance Started for: ".concat(s.classroom_name)):"punchIn"===e?s.success?r.oR.success("Punch In Successful!"):r.oR.error(s.message):"punchOut"===e&&(s.success?r.oR.success("Punch Out Successful!"):r.oR.error(s.message))},[]);(0,l.useEffect)(()=>{if(e&&s.length>0){var t,a;let l=e.socket||e;l&&!1===l.connected&&(l.connect?l.connect():l.open&&l.open()),null==(t=e.removeCallback)||t.call(e,"newMessageCallback"),null==(a=e.removeCallback)||a.call(e,"attendanceStartedCallback"),e.setCallback("newMessageCallback",N),e.setCallback("attendanceStartedCallback",e=>v("started",e)),e.setCallback("punchInCallback",e=>v("punchIn",e)),e.setCallback("punchOutCallback",e=>v("punchOut",e));let r=s.map(e=>e._id);"function"==typeof e.joinClassRoom?e.joinClassRoom(r):e.socket&&e.socket.emit("join_classroom",r)}},[e,s,N,v]),(0,l.useEffect)(()=>{if(0!==Object.keys(p).length)return w.current=setInterval(()=>{let s=Date.now();f(t=>{let a={...t},l=!1;return Object.entries(t).forEach(t=>{let[n,i]=t;s>=i&&((null==e?void 0:e.stopAttendance)&&e.stopAttendance(n),delete a[n],l=!0,r.oR.info("Attendance ended automatically."))}),l?a:t})},1e3),()=>clearInterval(w.current)},[p,e]);let y=(s,t)=>e?navigator.geolocation?void navigator.geolocation.getCurrentPosition(a=>{let l={classroom_id:t,location:{lat:a.coords.latitude,long:a.coords.longitude}};"punchIn"===s&&e.punchIn?e.punchIn(l):"punchOut"===s&&e.punchOut?e.punchOut(l):e.socket.emit("punchIn"===s?"punch_in":"punch_out",l)},e=>{console.error(e),r.oR.error("Location access denied.")}):r.oR.error("Geolocation not supported"):r.oR.error("Socket not connected");if(c||!m)return(0,a.jsx)(o.A,{});let k=s.filter(e=>e.name.toLowerCase().includes(b.toLowerCase()));return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50/50 px-4 sm:px-6 py-10",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto mb-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,a.jsxs)("div",{className:"text-center md:text-left",children:[(0,a.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"My Classrooms"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage your sessions and connect with your class."})]}),(0,a.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search for a classroom...",value:b,onChange:e=>j(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 shadow-sm transition-all"}),(0,a.jsx)("span",{className:"absolute left-3.5 top-3.5 text-gray-400",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[0===k.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:[(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-full mb-4",children:(0,a.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"No classrooms found"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:b?"We couldn't find matches for \"".concat(b,'"'):"You haven't been assigned to any classrooms yet."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:k.map(s=>{var t;let l=p[s._id],n=!!l,i=n?Math.max(0,Math.ceil((l-Date.now())/1e3)):0;return(0,a.jsxs)("div",{className:"group bg-white rounded-2xl shadow-sm hover:shadow-xl border border-gray-100 overflow-hidden transition-all duration-300 flex flex-col",children:[(0,a.jsx)("div",{className:"h-20 w-full relative ".concat(n?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-blue-500 to-indigo-600"),children:n&&(0,a.jsxs)("div",{className:"absolute top-3 right-3 bg-white/20 backdrop-blur-md px-3 py-1 rounded-full flex items-center gap-2 border border-white/30",children:[(0,a.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,a.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),(0,a.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),(0,a.jsx)("span",{className:"text-xs font-bold text-white tracking-wide",children:"LIVE ATTENDANCE"})]})}),(0,a.jsxs)("div",{className:"p-6 pt-0 flex-1 flex flex-col relative",children:[(0,a.jsx)("div",{className:"absolute -top-10 left-6 h-16 w-16 bg-white p-1 rounded-2xl shadow-md",children:(0,a.jsx)("div",{className:"h-full w-full rounded-xl flex items-center justify-center text-2xl font-bold text-white ".concat(n?"bg-green-500":"bg-blue-500"),children:s.name.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{className:"mt-8 mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 truncate",title:s.name,children:s.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[m.role," View"]})]}),(0,a.jsxs)("div",{className:"mt-auto space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>g(s._id),className:"w-full py-2.5 px-4 bg-gray-50 hover:bg-gray-100 text-gray-700 font-medium rounded-lg transition-colors flex items-center justify-center gap-2 border border-gray-200",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Discussion ",(0,a.jsx)("span",{className:"bg-gray-200 text-gray-600 text-xs py-0.5 px-2 rounded-full ml-1",children:(null==(t=s.discussion)?void 0:t.length)||0})]}),"Teacher"===m.role&&(0,a.jsx)("button",{onClick:()=>((s,t)=>{if(!e)return r.oR.error("Socket not connected");e.startAttendance?e.startAttendance(s,t,10):e.socket.emit("start_attendance",{classroomId:s,classroom_name:t,duration:10}),f(e=>({...e,[s]:Date.now()+6e5})),r.oR.success("Attendance started (10m)")})(s._id,s.name),disabled:n,className:"w-full py-3 rounded-lg font-semibold transition-all shadow-sm flex items-center justify-center gap-2 ".concat(n?"bg-green-50 text-green-700 border border-green-200 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-md"),children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("span",{children:["Ends in ",Math.floor(i/60),"m ",i%60,"s"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{children:"Start 10m Attendance"})]})}),"Student"===m.role&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{onClick:()=>y("punchIn",s._id),className:"py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors shadow-sm hover:shadow flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{className:"text-xs opacity-90 uppercase tracking-wide",children:"Entry"}),(0,a.jsx)("span",{className:"leading-none",children:"Punch In"})]}),(0,a.jsxs)("button",{onClick:()=>y("punchOut",s._id),className:"py-2.5 bg-white border border-red-200 text-red-600 hover:bg-red-50 rounded-lg font-medium transition-colors shadow-sm hover:shadow flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{className:"text-xs opacity-70 uppercase tracking-wide",children:"Exit"}),(0,a.jsx)("span",{className:"leading-none",children:"Punch Out"})]})]})]})]})]},s._id)})}),u&&(0,a.jsx)(d,{classroomId:u,socket:e,onClose:()=>g(null),messages:(()=>{var e;return u&&(null==(e=s.find(e=>String(e._id)===String(u)))?void 0:e.discussion)||[]})(),currentUser:m})]})]})}},6427:(e,s,t)=>{t.d(s,{A:()=>j});var a=t(5155),l=t(2115),r=t(1154),n=t(1007),i=t(1264),o=t(5525),d=t(7949),c=t(5448),x=t(3227),m=t(5040),h=t(9074),u=t(4355),g=t(3453),p=t(4186),f=t(5339),b=t(4239);let j=()=>{let[e,s]=(0,l.useState)(null),[t,j]=(0,l.useState)({total:0,present:0,pending:0,absent:0,percentage:0}),[w,N]=(0,l.useState)(!0);if((0,l.useEffect)(()=>{(async()=>{try{let e=await (0,b.VU)();s(e);let t=e.role||e.userType||"Student";if(e&&(e._id||e.id)&&"student"===t.toLowerCase()){let s=e._id||e.id;await (0,b.Yq)(s,e=>{let s=e.data||(Array.isArray(e)?e:[]),t=e.totalRecords||s.length,a=s.filter(e=>null!=e.punch_in_time&&(null==e.punch_out_time||""===e.punch_out_time)).length,l=s.filter(e=>null!=e.punch_in_time&&null!=e.punch_out_time).length,r=l+a,n=t>0?(r/t*100).toFixed(1):0;j({total:t,present:l,pending:a,absent:t-r,percentage:n})},e=>console.error("Failed to load attendance",e))}}catch(e){console.error("Profile load error",e)}finally{N(!1)}})()},[]),w)return(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(r.A,{className:"h-8 w-8 animate-spin text-indigo-600"})});if(!e)return(0,a.jsx)("div",{className:"text-center text-slate-500",children:"No user data found."});let v=()=>e.role||e.userType||"Student",y="student"===v().toLowerCase(),k="teacher"===v().toLowerCase();return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[k&&(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-800 mb-4 px-1",children:"Teacher Dashboard Overview"}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[(0,a.jsx)("div",{className:"h-32 bg-gradient-to-r from-indigo-600 to-purple-600"}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsxs)("div",{className:"relative flex items-end -mt-12 mb-6",children:[(0,a.jsx)("div",{className:"p-1 bg-white rounded-full",children:(0,a.jsx)("div",{className:"h-24 w-24 bg-slate-100 rounded-full flex items-center justify-center border-4 border-indigo-50",children:(0,a.jsx)(n.A,{className:"h-12 w-12 text-slate-400"})})}),(0,a.jsxs)("div",{className:"ml-4 mb-1",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:e.name||e.firstName+" "+(e.lastName||"")||"N/A"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 mt-1 capitalize",children:v()})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Personal Information"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 border border-slate-100",children:[(0,a.jsx)("div",{className:"p-2 bg-indigo-100 rounded-lg",children:(0,a.jsx)(i.A,{className:"h-4 w-4 text-indigo-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Email Address"}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-700",children:e.email||"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Account Details"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 border border-slate-100",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(o.A,{className:"h-4 w-4 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"User Role"}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-700 capitalize",children:v()})]})]})]})]})]})]}),y&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-indigo-600"}),(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Academic Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,a.jsx)(c.A,{className:"h-4 w-4 text-slate-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 mb-0.5",children:"Enrollment ID"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-700",children:e.enrollment_id||"N/A"})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,a.jsx)(x.A,{className:"h-4 w-4 text-indigo-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 mb-0.5",children:"School"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-700 line-clamp-1",title:e.school,children:e.school||"N/A"})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,a.jsx)(m.A,{className:"h-4 w-4 text-pink-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 mb-0.5",children:"Branch / Stream"}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-slate-700",children:[e.branch," ",e.stream?"(".concat(e.stream,")"):""]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-orange-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 mb-0.5",children:"Batch Year"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-700",children:e.year||"N/A"})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,a.jsx)(n.A,{className:"h-4 w-4 text-blue-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 mb-0.5",children:"Gender"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-700 capitalize",children:e.gender||"N/A"})]})]})]})]}),y&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-indigo-600"}),(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Attendance Analytics"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{className:"text-slate-500 text-sm font-medium mb-1",children:"Total Classes"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-slate-800",children:t.total})]}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 rounded-xl border border-green-100 flex flex-col items-center justify-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{className:"text-green-700 text-sm font-medium",children:"Completed"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-green-800",children:t.present})]}),(0,a.jsxs)("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex flex-col items-center justify-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-amber-600"}),(0,a.jsx)("span",{className:"text-amber-700 text-sm font-medium",children:"Pending"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-amber-800",children:t.pending})]}),(0,a.jsxs)("div",{className:"p-4 bg-indigo-50 rounded-xl border border-indigo-100 flex flex-col items-center justify-center relative overflow-hidden",children:[(0,a.jsx)("span",{className:"text-indigo-700 text-sm font-medium mb-1",children:"Attendance Rate"}),(0,a.jsxs)("span",{className:"text-3xl font-bold text-indigo-800",children:[t.percentage,"%"]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-indigo-200 w-full",children:(0,a.jsx)("div",{className:"h-full bg-indigo-600 transition-all duration-1000",style:{width:"".concat(t.percentage,"%")}})})]})]}),t.pending>0&&(0,a.jsxs)("div",{className:"mt-4 flex items-start gap-2 p-3 bg-amber-50 border border-amber-100 rounded-lg",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-amber-600 mt-0.5 shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-amber-800",children:'What is "Pending"?'}),(0,a.jsx)("p",{className:"text-xs text-amber-700 mt-0.5",children:"Pending status means you have punched in but not punched out yet. This could mean your class is currently in progress, or you forgot to mark your exit."})]})]})]})]})}}}]);