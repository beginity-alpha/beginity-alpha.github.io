"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{960:(e,t,a)=>{a.d(t,{A:()=>n});let n={src:"/assets/static/media/logo.21932253.png",height:779,width:779,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEX////SwcD20dPzwr7t9fGfurt5nKro7e3J29ymysbforXaxM6rvsT74tnuqaDQo7fU4uj4/Pz59/Ww2dPZ3NjWuLvtwcTZ29XZ6euLwcDGvt3gnKOVusP78eayxdOdqbTZt8+Mr7ntycW5vtCoSi2zAAAACXBIWXMAABcRAAAXEQHKJvM/AAAARUlEQVR4nBXLxxGAIAAAwUOyKJhztv8eHfe/QFlmGcCTy5TGmj2mazn8hIzhLfzcMqxC34V2NH3YTuEVqM6Yyv7NOmfhA3Z3AwyhtdhdAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},2838:(e,t,a)=>{a.d(t,{default:()=>p});var n=a(5155),s=a(2115),r=a(4239),l=a(960),i=a(6766),o=a(6874),d=a.n(o),c=a(5695),u=a(5799);function x(e){let{id:t,heading:a,date:o,location:x,img:m,status:h}=e;(0,c.usePathname)();let[g,p]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(0,r.VU)().then(e=>p(e))},[]),(0,n.jsx)("div",{className:"w-full p-3",children:(0,n.jsxs)("div",{className:"group relative flex flex-col h-full bg-white rounded-2xl border border-slate-200 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 overflow-hidden",children:[h&&(0,n.jsx)("div",{className:"absolute top-3 right-3 z-20",children:(0,n.jsx)("span",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wide rounded-full border ".concat((e=>{switch(e){case"Ended":return"bg-slate-100 text-slate-600 border-slate-200";case"Ongoing":return"bg-emerald-50 text-emerald-700 border-emerald-200 ring-1 ring-emerald-500/20";case"Upcoming":return"bg-indigo-50 text-indigo-700 border-indigo-200 ring-1 ring-indigo-500/20";default:return"bg-gray-100 text-gray-800"}})(h)," shadow-sm backdrop-blur-md"),children:h})}),(0,n.jsx)(d(),{href:"/events/detail?id=".concat(t),className:"block overflow-hidden relative",children:(0,n.jsxs)("div",{className:"relative w-full aspect-[4/3] bg-slate-100",children:[(0,n.jsx)(i.default,{src:m||l.A,alt:a,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-105\n                ".concat("Ended"===h?"opacity-60 grayscale filter":"","\n              "),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,n.jsxs)("div",{className:"flex flex-col flex-grow p-5",children:[(0,n.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,n.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-md bg-slate-50 text-slate-600 text-xs font-semibold border border-slate-100",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),(0,n.jsx)("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),(0,n.jsx)("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),(0,n.jsx)("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),(null==o?void 0:o.year)!=="N/A"?"".concat(o.month,"/").concat(o.year):"TBA"]})}),(0,n.jsx)(d(),{href:"/events/detail?id=".concat(t),className:"block",children:(0,n.jsx)("h3",{className:"text-lg font-bold text-slate-800 leading-snug mb-3 line-clamp-2 group-hover:text-indigo-600 transition-colors",children:a})}),(0,n.jsxs)("div",{className:"mt-auto flex items-start gap-2 text-slate-500 text-sm",children:[(0,n.jsxs)("svg",{className:"w-4 h-4 mt-0.5 shrink-0 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,n.jsx)("span",{className:"line-clamp-1 font-medium",children:x||"Location TBD"})]}),g&&"student"===g.role&&(0,n.jsx)("div",{className:"mt-5 pt-4 border-t border-slate-100",children:(0,n.jsxs)("button",{onClick:()=>{(0,r.xF)("".concat(r.AS,"/api/attendances/").concat(t),"POST",{}).then(e=>u.oR.success(e.message)).catch(e=>u.oR.error(e.message))},className:"w-full inline-flex justify-center items-center gap-2 bg-indigo-600 text-white py-2.5 px-4 rounded-xl text-sm font-semibold shadow-sm hover:bg-indigo-700 hover:shadow-md active:transform active:scale-95 transition-all focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,n.jsx)("span",{children:"Enroll Now"}),(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M5 12h14"}),(0,n.jsx)("path",{d:"m12 5 7 7-7 7"})]})]})})]})]})})}var m=a(8020);function h(e){let{children:t}=e,[a,r]=(0,s.useState)(!1),l=(0,c.usePathname)();return(0,s.useEffect)(()=>{r(!0);let e=setTimeout(()=>{r(!1)},800);return()=>clearTimeout(e)},[l]),(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsx)(m.A,{}),t]})}let g={all:"/api/events",upcoming:"/api/events/upcoming",ongoing:"/api/events/ongoing",ended:"/api/events/ended"};function p(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)("all"),[i,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),p=(0,s.useRef)(0);(0,s.useEffect)(()=>{let e=++p.current,n=!1;return(async()=>{o(!0),c("");try{let s;if("all"===a&&"function"==typeof r.kQ)s=await (0,r.kQ)();else{let e=g[a]||g.all;s=await (0,r.In)("".concat(r.AS).concat(e),"GET")}if(n||e!==p.current)return;let l=Array.isArray(s)?s:(null==s?void 0:s.events)||[];l.sort((e,t)=>{let a=new Date(e.start_time||0);return new Date(t.start_time||0)-a}),t(l)}catch(t){if(n||e!==p.current)return;c((null==t?void 0:t.message)||"Failed to load events")}finally{if(n||e!==p.current)return;o(!1)}})(),()=>{n=!0}},[a]);let f=e.filter(e=>{var t,a,n;let s=u.toLowerCase(),r=(null==(t=e.title)?void 0:t.toLowerCase())||"",l=(null==(n=e.location)||null==(a=n.address)?void 0:a.toLowerCase())||"";return r.includes(s)||l.includes(s)});return i?(0,n.jsx)(h,{}):d?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[(0,n.jsx)("div",{className:"text-red-500 bg-red-50 p-3 rounded-full mb-4",children:(0,n.jsx)("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,n.jsx)("p",{className:"text-gray-800 font-medium",children:d}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 text-blue-600 hover:underline",children:"Try Again"})]}):(0,n.jsxs)("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Explore Events"}),(0,n.jsx)("p",{className:"text-gray-500 mt-1",children:"Discover what's happening around campus"})]}),(0,n.jsxs)("div",{className:"relative w-full md:w-80",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,n.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,n.jsx)("input",{type:"text",placeholder:"Search events...",value:u,onChange:e=>m(e.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-xl leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-150 ease-in-out shadow-sm"})]})]}),(0,n.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,n.jsx)("nav",{className:"-mb-px flex space-x-6 overflow-x-auto no-scrollbar","aria-label":"Tabs",children:["all","upcoming","ongoing","ended"].map(e=>{let t=a===e;return(0,n.jsx)("button",{onClick:()=>{l(e),m("")},className:"\n                  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200\n                  ".concat(t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                "),children:e.charAt(0).toUpperCase()+e.slice(1)},e)})})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[0===f.length&&(0,n.jsxs)("div",{className:"col-span-full flex flex-col items-center justify-center py-16 text-center",children:[(0,n.jsx)("div",{className:"bg-gray-50 rounded-full p-4 mb-4",children:(0,n.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No events found"}),(0,n.jsx)("p",{className:"mt-1 text-gray-500",children:u?"We couldn't find anything matching \"".concat(u,'"'):"Check back later for new events!"}),u&&(0,n.jsx)("button",{onClick:()=>m(""),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Clear Search"})]}),f.map(e=>{var t;let a=(null==e?void 0:e.start_time)?new Date(e.start_time):null,s=(null==e?void 0:e.end_time)?new Date(e.end_time):null,l=new Date,i=a?a.getFullYear():"N/A",o=a?a.getMonth()+1:"N/A",d="Upcoming";return s&&l>s?d="Ended":a&&s&&l>=a&&l<=s&&(d="Ongoing"),(0,n.jsx)(x,{id:e._id||e.id,heading:e.title,date:{year:i,month:o},location:(null==e||null==(t=e.location)?void 0:t.address)||"Unknown",img:(null==e?void 0:e.image)?"".concat(r.AS).concat(e.image):void 0,status:d},e._id||e.id)})]})]})}},4239:(e,t,a)=>{a.d(t,{A$:()=>n.A$,AS:()=>n.AS,DY:()=>n.DY,In:()=>n.In,Pq:()=>n.Pq,VU:()=>n.VU,Yq:()=>n.Yq,bB:()=>n.bB,eg:()=>n.eg,iD:()=>n.iD,kQ:()=>n.kQ,lh:()=>n.lh,lo:()=>n.lo,qM:()=>n.qM,tq:()=>n.tq,xF:()=>n.xF,xw:()=>n.xw,zz:()=>n.zz});var n=a(2105)},8020:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(5155),s=a(6766),r=a(8274);function l(){return(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white",children:[(0,n.jsx)(r.P.div,{initial:{scale:.8,opacity:.5},animate:{scale:[.9,1.1,.9],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute w-64 h-64 rounded-full bg-gradient-to-tr from-blue-400 to-purple-500 blur-3xl opacity-30"}),(0,n.jsx)(r.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:"easeOut"},children:(0,n.jsx)(s.default,{src:"/loader.png",alt:"Loading...",width:200,height:200,priority:!0,className:"drop-shadow-lg"})}),(0,n.jsx)(r.P.p,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0},className:"mt-6 text-lg font-semibold text-gray-600",children:"Loading..."})]})}}}]);