(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{3753:(e,t,a)=>{"use strict";a.d(t,{default:()=>f});var s=a(5155),r=a(2115),l=a(5799);a(5716);var n=a(4239);let i=e=>{try{if(!e)return null;let t=new Date(e);return isNaN(t.getTime())?null:t}catch(e){return null}},o=e=>e?"string"==typeof e?e:e._id||"":"",c=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{var s;return null!=(s=t.split(".").reduce((e,t)=>e?e[t]:void 0,e))?s:a}catch(e){return a}},d=()=>{let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[h,x]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[b,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(""),[f,w]=(0,r.useState)(""),[C,A]=(0,r.useState)(""),[S,_]=(0,r.useState)(""),[k,E]=(0,r.useState)(1);(0,r.useEffect)(()=>{D(),L()},[]),(0,r.useEffect)(()=>{L()},[m]);let D=async()=>{try{let e=await fetch("".concat(n.AS,"/api/events")),t=await e.json();if(!(null==t?void 0:t.events)||!Array.isArray(t.events))throw Error("Invalid events data format");l(t.events)}catch(e){console.error("Event fetch error:",e)}},L=async()=>{u(!0),x("");try{await (0,n.Yq)({event_id:m||void 0},e=>{let a=(Array.isArray(null==e?void 0:e.data)?e.data:[]).map(e=>({...e,_eventId:o(e.event_id),_userId:o(e.user_id)})).sort((e,t)=>{let a=i(e.punch_in_time),s=i(t.punch_in_time);return a&&s?s-a:a&&!s?-1:!a&&s?1:0});t(a)},e=>x((null==e?void 0:e.message)||"Error fetching attendance"))}catch(e){x((null==e?void 0:e.message)||"Fetch failed")}finally{u(!1)}},M=e=>{let t=o(e);if(!t)return"N/A";let s=a.find(e=>o(e._id)===t);return(null==s?void 0:s.title)||c(e,"title")||"N/A"},I=e=>{if(!Array.isArray(e)||0===e.length)return"no-locations";if(1===e.length)return"single";let t=e[0],a=e[e.length-1],s=((e,t,a,s)=>{let r=e=>e*Math.PI/180;if([e,t,a,s].some(e=>null==e||Number.isNaN(Number(e))))return null;let l=r(Number(e)),n=r(Number(a)),i=Math.sin(r(Number(a)-Number(e))/2)**2+Math.cos(l)*Math.cos(n)*Math.sin(r(Number(s)-Number(t))/2)**2;return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371e3})(null==t?void 0:t.lat,null==t?void 0:t.long,null==a?void 0:a.lat,null==a?void 0:a.long);return null===s?"no-locations":s<=15?"in":"out"},P=(0,r.useMemo)(()=>{let t=new Set;return e.forEach(e=>e.status&&t.add(e.status)),Array.from(t)},[e]),U=(0,r.useMemo)(()=>{let t=e.filter(e=>{var t;let a=(e.name||c(e,"user_id.name","")).toLowerCase(),s=(e.branch||c(e,"user_id.branch","")||"").toString().trim().toLowerCase(),r=(e.year||c(e,"user_id.year","")||"").toString().trim().toLowerCase(),l=(e.enrollment_id||c(e,"user_id.enrollment_id","")).toString().toLowerCase(),n=!m||o(e.event_id)===m,i=!b||(null==(t=e.status)?void 0:t.toLowerCase())===b.toLowerCase(),d=I(e.locations),u=!v||d===v,h=!j||a.includes(j.toLowerCase()),x=!f||s.includes(f.trim().toLowerCase()),p=!C||l.includes(C.trim().toLowerCase()),g=!S||r.includes(S.trim().toLowerCase());return n&&i&&u&&h&&x&&p&&g});return E(1),t},[e,m,b,v,j,f,C,S]),F=50*k,O=U.slice(F-50,F),B=Math.ceil(U.length/50);return d?(0,s.jsx)("div",{className:"py-10 text-center",children:"Loading..."}):h?(0,s.jsx)("div",{className:"py-10 text-center text-red-600",children:h}):(0,s.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Attendance Management"}),(0,s.jsx)("button",{onClick:()=>(e=>{if(!e.length)return alert("No data to export");let t=[["Event Name","User Name","Nickname","Enrollment ID","Branch","Year","Status","Punch In","Punch Out","Punch In Location","Punch Out Location","Distance Bucket"],...e.map(e=>{let t=e.branch||c(e,"user_id.branch","N/A"),a=e.year||c(e,"user_id.year","N/A"),s=M(e.event_id),r=e.name||c(e,"user_id.name","N/A"),l=e.nickname||c(e,"user_id.nickname","N/A"),n=e.enrollment_id||c(e,"user_id.enrollment_id","N/A"),o=i(e.punch_in_time),d=i(e.punch_out_time),u=Array.isArray(e.locations)?e.locations:[],h=u[0],x=u[u.length-1],m=I(u);return[s,r,l,n,t,a,e.status,o?o.toLocaleString():"N/A",d?d.toLocaleString():"N/A",h?"".concat(h.lat,", ").concat(h.long):"N/A",x?"".concat(x.lat,", ").concat(x.long):"N/A",m.toUpperCase()]})].map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(",")).join("\n"),a=URL.createObjectURL(new Blob([t],{type:"text/csv"})),s=document.createElement("a");s.href=a,s.download="attendance.csv",s.click(),URL.revokeObjectURL(a)})(U),className:"bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700",children:"\uD83D\uDCE5 Download CSV (All)"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-6 gap-4 bg-white p-4 rounded-md shadow mb-8",children:[(0,s.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"border p-2 rounded",children:[(0,s.jsx)("option",{value:"",children:"All Events"}),a.map(e=>(0,s.jsx)("option",{value:o(e._id),children:e.title},o(e._id)))]}),(0,s.jsxs)("select",{value:b,onChange:e=>g(e.target.value),className:"border p-2 rounded",children:[(0,s.jsx)("option",{value:"",children:"All Status"}),P.map(e=>(0,s.jsx)("option",{children:e},e))]}),(0,s.jsxs)("select",{value:v,onChange:e=>y(e.target.value),className:"border p-2 rounded",children:[(0,s.jsx)("option",{value:"",children:"Distance (All)"}),(0,s.jsx)("option",{value:"in",children:"IN (≤15m)"}),(0,s.jsx)("option",{value:"out",children:"OUT (>15m)"}),(0,s.jsx)("option",{value:"single",children:"Single"}),(0,s.jsx)("option",{value:"no-locations",children:"No Locations"})]}),(0,s.jsx)("input",{type:"text",placeholder:"Search Name",value:j,onChange:e=>N(e.target.value),className:"border p-2 rounded"}),(0,s.jsx)("input",{type:"text",placeholder:"Search Branch",value:f,onChange:e=>w(e.target.value),className:"border p-2 rounded"}),(0,s.jsx)("input",{type:"text",placeholder:"Search Year",value:S,onChange:e=>_(e.target.value),className:"border p-2 rounded"}),(0,s.jsx)("input",{type:"text",placeholder:"Enrollment",value:C,onChange:e=>A(e.target.value),className:"border p-2 rounded"})]}),(0,s.jsx)("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:(0,s.jsxs)("table",{className:"min-w-full table-auto",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-200",children:[(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Event"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"User"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Nickname"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Enrollment"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Branch"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Year"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Status"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Punch In"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Punch Out"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"In Location"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"Out Location"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left",children:"15m"})]})}),(0,s.jsx)("tbody",{children:O.map((e,t)=>{let a=M(e.event_id),r=e.name||c(e,"user_id.name","N/A"),l=e.nickname||c(e,"user_id.nickname","N/A"),n=e.enrollment_id||c(e,"user_id.enrollment_id","N/A"),o=e.branch||c(e,"user_id.branch","N/A"),d=e.year||c(e,"user_id.year","N/A"),u=i(e.punch_in_time),h=i(e.punch_out_time),x=Array.isArray(e.locations)?e.locations:[],m=x[0],p=x[x.length-1],b=I(x);return(0,s.jsxs)("tr",{className:"border-b",children:[(0,s.jsx)("td",{className:"px-4 py-2",children:a}),(0,s.jsx)("td",{className:"px-4 py-2",children:r}),(0,s.jsx)("td",{className:"px-4 py-2",children:l}),(0,s.jsx)("td",{className:"px-4 py-2",children:n}),(0,s.jsx)("td",{className:"px-4 py-2",children:o}),(0,s.jsx)("td",{className:"px-4 py-2",children:d}),(0,s.jsx)("td",{className:"px-4 py-2",children:e.status}),(0,s.jsx)("td",{className:"px-4 py-2",children:u?u.toLocaleString():"N/A"}),(0,s.jsx)("td",{className:"px-4 py-2",children:h?h.toLocaleString():"N/A"}),(0,s.jsx)("td",{className:"px-4 py-2",children:m?"".concat(m.lat,", ").concat(m.long):"N/A"}),(0,s.jsx)("td",{className:"px-4 py-2",children:p?"".concat(p.lat,", ").concat(p.long):"N/A"}),(0,s.jsx)("td",{className:"px-4 py-2",children:"in"===b?"✔️":"out"===b?"❌":"single"===b?"•":"N/A"})]},e._id||t)})})]})}),(0,s.jsxs)("div",{className:"mt-6 flex justify-center items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>k>1&&E(e=>e-1),disabled:1===k,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50",children:"◀ Prev"}),(0,s.jsxs)("span",{className:"px-4 py-2 font-semibold",children:["Page ",k," / ",B]}),(0,s.jsx)("button",{onClick:()=>k<B&&E(e=>e+1),disabled:k===B,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50",children:"Next ▶"})]}),0===U.length&&(0,s.jsx)("div",{className:"mt-6 text-center text-gray-600",children:"No records found."})]})};var u=a(7634),h=a(2838),x=a(5018),m=a(6145),p=a(2502),b=a(4065),g=a(2834);p.t1.register(p.PP,p.kc,p.E8,p.hE,p.m_,p.s$,p.Bs,g.A);let v=e=>(e&&"object"==typeof e?e._id:e)||"",y=(e,t,a)=>{try{var s;return null!=(s=t.split(".").reduce((e,t)=>e?e[t]:void 0,e))?s:a}catch(e){return a}},j=e=>{let{options:t,value:a,onChange:l,placeholder:n="Select Event"}=e,[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),u=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=t.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())),x=t.find(e=>v(e)===a),m=x?x.title:"All Events";return(0,s.jsxs)("div",{className:"relative",ref:u,children:[(0,s.jsxs)("div",{className:"border p-2 rounded bg-white cursor-pointer flex justify-between items-center h-[42px]",onClick:()=>{o(!i),d("")},children:[(0,s.jsx)("span",{className:"truncate ".concat(a?"text-gray-900":"text-gray-600"),children:m}),(0,s.jsx)("span",{className:"text-gray-400 text-xs ml-2",children:"▼"})]}),i&&(0,s.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded shadow-lg z-50 max-h-60 overflow-hidden flex flex-col",children:[(0,s.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Search event...",className:"p-2 border-b w-full outline-none text-sm bg-gray-50",value:c,onChange:e=>d(e.target.value)}),(0,s.jsxs)("div",{className:"overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-2 hover:bg-blue-50 cursor-pointer text-gray-600 border-b border-gray-100",onClick:()=>{l(""),o(!1)},children:"All Events"}),h.length>0?h.map(e=>(0,s.jsx)("div",{className:"p-2 hover:bg-blue-50 cursor-pointer truncate ".concat(v(e)===a?"bg-blue-100 text-blue-800":"text-gray-800"),onClick:()=>{l(v(e)),o(!1)},children:e.title},v(e))):(0,s.jsx)("div",{className:"p-2 text-gray-400 text-sm text-center",children:"No events found"})]})]})]})},N=()=>{let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[x,m]=(0,r.useState)(""),[p,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(n.AS,"/api/events")),a=await e.json();l(a.events||[]),await (0,n.Yq)({},e=>{let a=(Array.isArray(null==e?void 0:e.data)?e.data:[]).map(e=>{var t,a,s,r,l,n,i,o;return{...e,branch:(e.branch||y(e,"user_id.branch","Unknown")).toUpperCase(),year:(e.year||y(e,"user_id.year","Unknown")).toString(),eventId:v(e.event_id),dist:((e,t,a,s)=>{if(!e||!t||!a||!s)return null;let r=e=>e*Math.PI/180,l=Math.sin(r(a-e)/2)**2+Math.cos(r(e))*Math.cos(r(a))*Math.sin(r(s-t)/2)**2;return 12742e3*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))})(null==(a=e.locations)||null==(t=a[0])?void 0:t.lat,null==(r=e.locations)||null==(s=r[0])?void 0:s.long,null==(n=e.locations)||null==(l=n.at(-1))?void 0:l.lat,null==(o=e.locations)||null==(i=o.at(-1))?void 0:i.long)}});t(a),o(!1)})}catch(e){console.error(e),o(!1)}})()},[]);let N=(0,r.useMemo)(()=>e.filter(e=>{let t=!c||e.eventId===c,a=!u||e.branch.includes(u.toUpperCase()),s=!x||e.year.includes(x);return t&&a&&s}),[e,c,u,x]),f=(0,r.useMemo)(()=>{let e=e=>{let t={};return N.forEach(a=>{let s=e(a);t[s]=(t[s]||0)+1}),{labels:Object.keys(t),values:Object.values(t)}},t=e(e=>e.status||"Unknown"),a=e(e=>e.branch),s=e(e=>e.year),r={"In Range (≤15m)":0,"Out of Range (>15m)":0,Unknown:0};return N.forEach(e=>{null===e.dist?r.Unknown++:e.dist<=15?r["In Range (≤15m)"]++:r["Out of Range (>15m)"]++}),{status:{labels:t.labels,datasets:[{label:"Students",data:t.values,backgroundColor:["#10B981","#EF4444","#F59E0B","#3B82F6"]}]},branch:{labels:a.labels,datasets:[{label:"Count",data:a.values,backgroundColor:"#6366F1"}]},year:{labels:s.labels,datasets:[{label:"Count",data:s.values,backgroundColor:"#8B5CF6"}]},distance:{labels:Object.keys(r),datasets:[{data:Object.values(r),backgroundColor:["#10B981","#EF4444","#9CA3AF"]}]}}},[N]),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20*!!t}},plugins:{legend:{position:"top",labels:{font:{size:12}}},title:{display:!!e,text:e,font:{size:16}},datalabels:{color:t?"#555555":"#ffffff",font:{weight:"bold",size:11},anchor:t?"end":"center",align:t?"top":"center",offset:4*!!t,formatter:(e,t)=>{let a=0;if(t.chart.data.datasets[0].data.map(e=>{a+=e}),0===a)return"";let s=(100*e/a).toFixed(1)+"%";return 100*e/a>2?s:""}}},scales:t?{x:{display:!0,grid:{display:!1},ticks:{autoSkip:!1,maxRotation:90,minRotation:45}},y:{display:!0,beginAtZero:!0,grid:{display:!0,color:"#f0f0f0"}}}:{x:{display:!1},y:{display:!1}}}};return i?(0,s.jsx)("div",{className:"p-10 text-center text-lg animate-pulse",children:"Loading Analytics..."}):(0,s.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"\uD83D\uDCCA Attendance Analytics"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(j,{options:a,value:c,onChange:e=>d(e)}),(0,s.jsx)("input",{placeholder:"Filter by Branch (e.g. CSE)",className:"border p-2 rounded h-[42px]",value:u,onChange:e=>h(e.target.value)}),(0,s.jsx)("input",{placeholder:"Filter by Year (e.g. 2025)",className:"border p-2 rounded h-[42px]",value:x,onChange:e=>m(e.target.value)})]}),(0,s.jsxs)("p",{className:"mt-2 text-sm text-gray-500 text-right",children:["Showing ",N.length," records"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md cursor-pointer hover:shadow-xl transition-shadow border border-transparent hover:border-blue-500 group",onClick:()=>g("status"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-700",children:"Attendance Status"}),(0,s.jsx)("span",{className:"text-xs text-blue-500 opacity-0 group-hover:opacity-100",children:"Click to Enlarge \uD83D\uDD0D"})]}),(0,s.jsx)("div",{className:"h-64 flex justify-center",children:(0,s.jsx)(b.Fq,{data:f.status,options:w(null,!1)})})]}),(0,s.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md cursor-pointer hover:shadow-xl transition-shadow border border-transparent hover:border-blue-500 group",onClick:()=>g("branch"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-700",children:"Branch Distribution"}),(0,s.jsx)("span",{className:"text-xs text-blue-500 opacity-0 group-hover:opacity-100",children:"Click to Enlarge \uD83D\uDD0D"})]}),(0,s.jsx)("div",{className:"h-64",children:(0,s.jsx)(b.yP,{data:f.branch,options:w(null,!0)})})]}),(0,s.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md cursor-pointer hover:shadow-xl transition-shadow border border-transparent hover:border-blue-500 group",onClick:()=>g("distance"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-700",children:"Location Accuracy"}),(0,s.jsx)("span",{className:"text-xs text-blue-500 opacity-0 group-hover:opacity-100",children:"Click to Enlarge \uD83D\uDD0D"})]}),(0,s.jsx)("div",{className:"h-64 flex justify-center",children:(0,s.jsx)(b.nu,{data:f.distance,options:w(null,!1)})})]}),(0,s.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md cursor-pointer hover:shadow-xl transition-shadow border border-transparent hover:border-blue-500 group",onClick:()=>g("year"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-700",children:"Year Distribution"}),(0,s.jsx)("span",{className:"text-xs text-blue-500 opacity-0 group-hover:opacity-100",children:"Click to Enlarge \uD83D\uDD0D"})]}),(0,s.jsx)("div",{className:"h-64",children:(0,s.jsx)(b.yP,{data:f.year,options:w(null,!0)})})]})]}),(()=>{let e,t;if(!p)return null;let a="branch"===p||"year"===p,r=w(p.toUpperCase()+" ANALYSIS",a);switch(r.plugins.datalabels.font.size=13,p){case"status":e=b.Fq,t=f.status;break;case"branch":e=b.yP,t=f.branch;break;case"year":e=b.yP,t=f.year;break;case"distance":e=b.nu,t=f.distance;break;default:return null}return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-4",onClick:()=>g(null),children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-5xl h-[85vh] relative flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:()=>g(null),className:"absolute top-4 right-4 text-gray-500 hover:text-red-500 text-2xl font-bold",children:"\xd7"}),(0,s.jsx)("div",{className:"flex-grow pt-4",children:(0,s.jsx)(e,{data:t,options:r})}),(0,s.jsxs)("div",{className:"mt-4 text-center text-gray-500",children:["Total Records: ",N.length]})]})})})()]})},f=()=>{let[e,t]=(0,r.useState)("attendance"),[a,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=sessionStorage.getItem("teacherActiveTab");e&&(t(e),"classroom"===e&&(i(!0),setTimeout(()=>{i(!1)},2e3)))},[]),(0,s.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 font-sans bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-800 text-center md:text-left",children:"\uD83D\uDC69‍\uD83C\uDFEB Teacher Management Dashboard"}),(0,s.jsx)("button",{onClick:n.eg.handler(()=>{sessionStorage.clear(),window.location.href="/LoginSignUp"},e=>console.error(e)),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-all duration-300",children:"Logout"})]}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center md:justify-start border-b border-gray-300 mb-6",children:[{id:"attendance",label:"Attendance"},{id:"classroom",label:"Classroom Live"},{id:"events",label:"All Events"},{id:"create-event",label:"Create Event"},{id:"create-speaker",label:"Register Speaker"},{id:"charts",label:"Charts"}].map(a=>(0,s.jsx)("button",{onClick:()=>(a=>{a!==e&&("classroom"===a?(sessionStorage.setItem("teacherActiveTab","classroom"),window.location.reload()):(sessionStorage.setItem("teacherActiveTab",a),t(a),i(!1)))})(a.id),className:"flex-1 md:flex-none px-4 py-2 text-sm sm:text-base text-center transition-all duration-300 \n              border-b-4 ".concat(e===a.id?"border-blue-500 font-semibold text-blue-600":"border-transparent text-gray-600 hover:text-blue-500"),children:a.label},a.id))}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 overflow-auto min-h-[400px]",children:(()=>{if(a)return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center h-[60vh]",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-6"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-700 animate-pulse",children:"Loading Live Classroom..."})]});switch(e){case"attendance":return(0,s.jsx)(d,{});case"classroom":return(0,s.jsx)(u.A,{});case"events":return(0,s.jsx)(h.default,{});case"create-event":return(0,s.jsx)(x.A,{});case"create-speaker":return(0,s.jsx)(m.A,{});case"charts":return(0,s.jsx)(N,{});default:return(0,s.jsx)("div",{className:"text-gray-500",children:"Select an option from the tabs."})}})()}),(0,s.jsx)(l.ToastContainer,{})]})}},6916:(e,t,a)=>{Promise.resolve().then(a.bind(a,3753))}},e=>{e.O(0,[797,711,647,726,311,766,874,888,664,105,313,238,441,964,358],()=>e(e.s=6916)),_N_E=e.O()}]);