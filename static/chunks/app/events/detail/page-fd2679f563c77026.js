(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{892:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(5155),l=s(2115),a=s(8020),i=s(4239),n=s(960),o=s(6766),d=s(5695),c=s(5799);s(5716);var u=s(8782),m=s(5526);let x=async()=>{var e;return(null==(e=await (0,i.lo)({role:"Speaker",all:!0}))?void 0:e.data)||[]},h=[{name:"Nagar Auditorium",lat:"22.381599362662463",long:"73.14314073548469"},{name:"SOT Auditorium",lat:"22.385636040754616",long:"73.14493074913331"},{name:"Anviksha Building",lat:"22.3862105355751",long:"73.14561660211221"},{name:"SOS Building",lat:"22.382901016778522",long:"73.14696416837283"},{name:"Aangava",lat:"22.385277259337578",long:"73.14446294649058"},{name:"Basket Ball Court ( Aangava )",lat:"22.385232418863385",long:"73.14407034812744"}];function p(e){let{isOpen:t,onClose:s,children:l,title:a="Modal"}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:s,children:(0,r.jsxs)("div",{className:"relative flex flex-col w-full max-w-4xl max-h-[90vh] bg-white rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 bg-white sticky top-0 z-20",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:a}),(0,r.jsx)("button",{onClick:s,className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors","aria-label":"Close modal",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-transparent",children:l})]})}):null}function g(e){let{items:t=[],value:s=[],onChange:a=()=>{},placeholder:i="Search...",display:n=e=>(null==e?void 0:e.name)||"".concat((null==e?void 0:e.first_name)||""," ").concat((null==e?void 0:e.last_name)||"").trim()}=e,[o,d]=(0,l.useState)(""),[c,u]=(0,l.useState)(!1),[m,x]=(0,l.useState)(0),h=(0,l.useRef)(null),p=(0,l.useRef)(null),g=e=>n(e)||"",f=(0,l.useMemo)(()=>{let e=o.toLowerCase().trim();return t.filter(t=>!(Array.isArray(s)&&s.includes(t._id))&&(!e||g(t).toLowerCase().includes(e)))},[t,o,s]);(0,l.useEffect)(()=>{function e(e){h.current&&!h.current.contains(e.target)&&(u(!1),x(0))}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let b=e=>{var t;let r=Array.isArray(s)?s:[];r.includes(e)||a([...r,e]),d(""),u(!0),null==(t=p.current)||t.focus(),x(0)};return(0,r.jsxs)("div",{className:"relative group",ref:h,children:[Array.isArray(s)&&s.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:s.map(e=>{let l=t.find(t=>t._id===e);return l?(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-indigo-50 text-indigo-700 border border-indigo-100 rounded-full text-sm font-medium transition-all hover:bg-indigo-100",children:[g(l),(0,r.jsx)("button",{type:"button",onClick:()=>{Array.isArray(s)&&a(s.filter(t=>t!==e))},className:"ml-2 p-0.5 hover:bg-indigo-200 rounded-full text-indigo-500 hover:text-indigo-800 transition-colors","aria-label":"Remove ".concat(g(l)),children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},e):null})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,r.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),(0,r.jsx)("input",{ref:p,type:"text",placeholder:0===s.length?i:"Add another...",value:o,onFocus:()=>u(!0),onChange:e=>{d(e.target.value),u(!0),x(0)},onKeyDown:e=>{if(!c&&("ArrowDown"===e.key||"ArrowUp"===e.key))return void u(!0);if(c)if("ArrowDown"===e.key)e.preventDefault(),x(e=>Math.min(e+1,Math.max(0,f.length-1)));else if("ArrowUp"===e.key)e.preventDefault(),x(e=>Math.max(e-1,0));else if("Enter"===e.key){e.preventDefault();let t=f[m];t&&b(t._id)}else"Escape"===e.key&&u(!1)},className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-slate-800 placeholder-slate-400 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all"})]}),c&&(0,r.jsx)("div",{className:"absolute z-50 mt-2 w-full bg-white border border-slate-100 rounded-xl shadow-xl max-h-60 overflow-y-auto overflow-x-hidden ring-1 ring-black/5",children:0===f.length?(0,r.jsx)("div",{className:"px-4 py-3 text-sm text-slate-500 text-center italic",children:"No matching results found."}):(0,r.jsx)("div",{className:"py-1",children:f.map((e,t)=>(0,r.jsxs)("button",{type:"button",onClick:()=>b(e._id),onMouseEnter:()=>x(t),className:"w-full text-left px-4 py-2.5 text-sm transition-colors duration-150 flex items-center space-x-2 ".concat(t===m?"bg-indigo-50 text-indigo-700 font-medium":"text-slate-700 hover:bg-slate-50"),children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-indigo-400 opacity-0 transition-opacity duration-200",style:{opacity:+(t===m)}}),(0,r.jsx)("span",{children:g(e)})]},e._id))})})]})}function f(e){let{existingEvent:t,isOpen:s,onClose:a}=e;t=t||{};let n=(0,l.useMemo)(()=>{var e;let s=(null==t||null==(e=t.speakers)?void 0:e.map(e=>e._id))||[];return{title:"",image:"",speakers:[],address:"",lat:"",long:"",description:{detail:"",objectives:[],learning_outcomes:[]},...t,initialSpeakerIds:s}},[t]),[o,d]=(0,l.useState)(!1),[f,b]=(0,l.useState)(n.image||""),[v,j]=(0,l.useState)(n.speakers||[]),[w,y]=(0,l.useState)(n.initialSpeakerIds||[]),[N,k]=(0,l.useState)(n.address||""),[A,C]=(0,l.useState)(n.lat||""),[L,_]=(0,l.useState)(n.long||"");(0,l.useEffect)(()=>{s&&(async()=>{try{let e=await x();j(e||[]),S({target:{value:n.address||""}})}catch(e){console.error("Failed to fetch speakers:",e),c.oR.error("Failed to load speakers.")}})()},[s]);let S=e=>{let t=e.target.value;k(t);let s=h.find(e=>e.name===t);s?(C(s.lat),_(s.long)):(C(""),_(""))},B=async e=>{if(e.preventDefault(),!w||0===w.length)return void c.oR.error("Please select at least one speaker");d(!0);try{await (0,i.qM)(e,()=>{c.oR.success("Event updated successfully!"),a(),setTimeout(()=>window.location.reload(),200)},e=>c.oR.error((null==e?void 0:e.message)||"Failed to update event"))}finally{d(!1)}},M=e=>{let{htmlFor:t,children:s,required:l}=e;return(0,r.jsxs)("label",{htmlFor:t,className:"block text-sm font-semibold text-slate-700 mb-1.5",children:[s,l&&(0,r.jsx)("span",{className:"text-rose-500 ml-1",children:"*"})]})};return(0,r.jsxs)(p,{isOpen:s,onClose:a,title:"Update Event Details",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-slate-50 p-4 rounded-xl border border-dashed border-slate-300",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-500 mb-3",children:"Event Banner"}),(0,r.jsx)(m.default,{onUploadSuccess:b}),f&&(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-medium max-w-full truncate",children:[(0,r.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,r.jsx)("span",{className:"truncate",children:f})]})]})}),(0,r.jsxs)("form",{id:"updateEventForm",onSubmit:B,className:"space-y-8",children:[(0,r.jsx)("input",{type:"hidden",name:"speaker_ids",value:w.join(",")||""}),(0,r.jsx)("input",{type:"hidden",name:"event_id",value:t._id}),(0,r.jsx)("input",{type:"hidden",name:"image",value:f||""}),(0,r.jsx)("input",{type:"hidden",name:"event_id",value:n._id}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between bg-blue-50/50 p-3 rounded-lg border border-blue-100",children:[(0,r.jsx)("span",{className:"text-sm text-slate-600",children:"Is this event mandatory for all students?"}),(0,r.jsxs)("label",{className:"flex items-center cursor-pointer space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500 border-gray-300",name:"mandatory",defaultChecked:n.mandatory}),(0,r.jsx)("span",{className:"text-sm font-semibold text-slate-800",children:"Mandatory"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(M,{htmlFor:"title",required:!0,children:"Event Title"}),(0,r.jsx)("input",{id:"title",name:"title",defaultValue:n.title,required:!0,placeholder:"Enter a descriptive title",className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all"})]})]}),(0,r.jsx)("hr",{className:"border-slate-100"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})}),"Description"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(M,{htmlFor:"detail",children:"Detailed Description"}),(0,r.jsx)("textarea",{id:"detail",name:"detail",rows:"3",defaultValue:n.description.detail,className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all resize-y"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(M,{htmlFor:"objectives",required:!0,children:"Objectives"}),(0,r.jsx)("textarea",{id:"objectives",name:"objectives",rows:"4",defaultValue:n.description.objectives.join("\n"),required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all resize-none text-sm",placeholder:"• Objective 1 • Objective 2"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:"Enter each objective on a new line."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(M,{htmlFor:"learning_outcomes",required:!0,children:"Learning Outcomes"}),(0,r.jsx)("textarea",{id:"learning_outcomes",name:"learning_outcomes",rows:"4",defaultValue:n.description.learning_outcomes.join("\n"),required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all resize-none text-sm",placeholder:"• Outcome 1 • Outcome 2"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:"Enter each outcome on a new line."})]})]})]}),(0,r.jsx)("hr",{className:"border-slate-100"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Schedule"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(M,{htmlFor:"start_time",required:!0,children:"Start Time"}),(0,r.jsx)("input",{type:"datetime-local",id:"start_time",name:"start_time",defaultValue:n.start_time?(0,u.Bv)(n.start_time):"",required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(M,{htmlFor:"end_time",required:!0,children:"End Time"}),(0,r.jsx)("input",{type:"datetime-local",id:"end_time",name:"end_time",defaultValue:n.end_time?(0,u.Bv)(n.end_time):"",required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all"})]})]})]}),(0,r.jsx)("hr",{className:"border-slate-100"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,r.jsxs)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location & Venue"]}),(0,r.jsxs)("div",{className:"p-5 bg-slate-50 rounded-xl border border-slate-200",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(M,{htmlFor:"address",required:!0,children:"Select Venue"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{id:"address",name:"address",required:!0,value:N,onChange:S,className:"w-full pl-4 pr-10 py-2.5 bg-white border border-slate-300 rounded-lg text-slate-800 appearance-none focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all",children:[(0,r.jsx)("option",{value:"",children:"-- Choose a location --"}),h.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.name))]}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none text-slate-500",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1",children:"Latitude"}),(0,r.jsx)("input",{type:"number",id:"lat",name:"lat",step:"any",value:A,onChange:e=>C(e.target.value),placeholder:"Auto-filled",className:"w-full px-3 py-2 bg-slate-200/50 border border-slate-300 rounded text-slate-600 text-sm focus:outline-none cursor-not-allowed",readOnly:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1",children:"Longitude"}),(0,r.jsx)("input",{type:"number",id:"long",name:"long",step:"any",value:L,onChange:e=>_(e.target.value),placeholder:"Auto-filled",className:"w-full px-3 py-2 bg-slate-200/50 border border-slate-300 rounded text-slate-600 text-sm focus:outline-none cursor-not-allowed",readOnly:!0})]})]})]})]}),(0,r.jsx)("hr",{className:"border-slate-100"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),"Speakers ",(0,r.jsx)("span",{className:"text-rose-500 text-sm font-normal",children:"*"})]}),(0,r.jsx)(g,{items:v,value:w,onChange:y,placeholder:"Type to search speakers...",display:e=>(null==e?void 0:e.name)||"".concat((null==e?void 0:e.first_name)||""," ").concat((null==e?void 0:e.last_name)||"").trim()}),0===w.length&&(0,r.jsxs)("p",{className:"text-sm text-amber-600 flex items-center gap-1 mt-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"At least one speaker is required."]})]}),(0,r.jsxs)("div",{className:"pt-6 mt-8 border-t border-slate-100 flex items-center justify-end gap-3 sticky bottom-0 bg-white pb-2",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-6 py-2.5 rounded-lg border border-slate-300 text-slate-700 font-medium hover:bg-slate-50 hover:text-slate-900 transition-colors",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",disabled:o,className:"px-8 py-2.5 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700 active:bg-indigo-800 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg transition-all flex items-center gap-2",children:[o&&(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o?"Saving Changes...":"Save Updates"]})]})]})]}),(0,r.jsx)(c.ToastContainer,{position:"bottom-right",theme:"colored"})]})}function b(e){var t,s,a,c,u,m;let{event:x}=e,[h,p]=(0,l.useState)(!1),[g,b]=(0,l.useState)(null),[v,j]=(0,l.useState)([]),w=(0,d.useRouter)();(0,l.useEffect)(()=>{!async function(){console.log("--- DEBUG: Starting EventDetails Init ---");try{let e=await (0,i.VU)();if(!e)return void b(!1);if(b(!0),p("Admin"===e.role),x.speakers&&x.speakers.length>0&&"object"==typeof x.speakers[0]&&x.speakers[0].name)return void j(x.speakers);let t=await (0,i.kQ)();if(t&&t.length>0){let e=x._id||x.id,s=t.find(t=>t._id===e||t.id===e);if(s&&s.speakers&&"object"==typeof s.speakers[0]&&s.speakers[0].name)return void j(s.speakers)}let s=await (0,i.Pq)();if(x.speakers&&x.speakers.length>0&&s.length>0){let e=x.speakers.map(e=>String("object"==typeof e&&null!==e?e._id||e.id:e)),t=s.filter(t=>e.includes(String(t._id||t.id)));j(t)}}catch(e){console.error(e),b(!1)}}()},[x]);let y=e=>e?new Date(e).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):"N/A",[N,k]=(0,l.useState)(!1),[A,C]=(0,l.useState)(x);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"min-h-screen bg-slate-50/50 pb-20",children:[(0,r.jsx)("div",{className:"bg-white border-b border-slate-200 shadow-sm sticky top-0 z-10",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-4 flex items-center justify-between",children:[(0,r.jsxs)("button",{onClick:()=>w.back(),className:"group inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-all",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:-translate-x-1 transition-transform",children:(0,r.jsx)("path",{d:"m15 18-6-6 6-6"})}),"Back"]}),h&&(0,r.jsxs)("button",{onClick:()=>{C(A),k(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-lg shadow-sm hover:bg-indigo-700 hover:shadow-md transition-all active:scale-95",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),"Edit Event"]})]})}),(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-8 space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl md:text-5xl font-extrabold text-slate-900 tracking-tight leading-tight",children:x.title}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.status&&(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 border border-emerald-200",children:x.status}),x.mandatory&&(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-rose-100 text-rose-800 border border-rose-200",children:"Mandatory"})]})]}),(0,r.jsx)("div",{className:"relative w-full aspect-video md:aspect-[21/9] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border border-slate-200",children:(0,r.jsx)(o.default,{src:(null==x?void 0:x.image)?"".concat(i.AS).concat(x.image):n.A,alt:x.title||"Event Image",fill:!0,className:"object-contain",priority:!0})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,r.jsxs)("div",{className:"prose prose-slate max-w-none",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2 mb-4",children:"Event Details"}),(0,r.jsx)("p",{className:"text-slate-600 leading-relaxed whitespace-pre-wrap text-lg",children:(null==(t=x.description)?void 0:t.detail)||x.description||"No specific details provided for this event."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(x.objectives||(null==(s=x.description)?void 0:s.objectives))&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-500"}),(0,r.jsxs)("h3",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Objectives"]}),(0,r.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed whitespace-pre-wrap",children:x.objectives||(null==(a=x.description)?void 0:a.objectives)})]}),(x.learning_outcomes||(null==(c=x.description)?void 0:c.learning_outcomes))&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500"}),(0,r.jsxs)("h3",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Learning Outcomes"]}),(0,r.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed whitespace-pre-wrap",children:x.learning_outcomes||(null==(u=x.description)?void 0:u.learning_outcomes)})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 sticky top-24 space-y-6",children:[(0,r.jsx)("h3",{className:"font-bold text-slate-400 uppercase tracking-wider text-xs",children:"At a Glance"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg shrink-0",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("polyline",{points:"12 6 12 12 16 14"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Start Time"}),(0,r.jsx)("p",{className:"text-slate-900 font-semibold",children:y(x.start_time)})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,r.jsx)("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg shrink-0",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("polyline",{points:"12 6 12 12 8 14"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"End Time"}),(0,r.jsx)("p",{className:"text-slate-900 font-semibold",children:y(x.end_time)})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,r.jsx)("div",{className:"p-2 bg-rose-50 text-rose-600 rounded-lg shrink-0",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),(0,r.jsx)("circle",{cx:"12",cy:"10",r:"3"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Location"}),(0,r.jsx)("p",{className:"text-slate-900 font-semibold",children:(null==(m=x.location)?void 0:m.address)||x.location||"To Be Announced"})]})]})]})]})})]}),(0,r.jsx)("hr",{className:"border-slate-200 my-10"}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Featured Speakers"}),(0,r.jsx)("span",{className:"px-2.5 py-0.5 rounded-full bg-slate-100 text-slate-600 text-xs font-semibold",children:v.length})]}),null===g&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse",children:[1,2,3].map(e=>(0,r.jsx)("div",{className:"h-48 bg-slate-200 rounded-2xl"},e))}),!1===g&&(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-white border border-slate-200 shadow-sm p-10 text-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-[url('/grid-pattern.svg')] opacity-5"}),(0,r.jsxs)("div",{className:"relative z-10 max-w-lg mx-auto space-y-4",children:[(0,r.jsx)("div",{className:"mx-auto w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 mb-2",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,r.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-slate-900",children:"Guest List Locked"}),(0,r.jsx)("p",{className:"text-slate-500",children:"Sign in with your university account to view speaker profiles, bios, and connection details."}),(0,r.jsx)("button",{className:"mt-4 inline-flex items-center justify-center px-6 py-2.5 border border-transparent text-sm font-medium rounded-lg text-white bg-slate-900 hover:bg-slate-800 transition-all shadow-lg hover:shadow-xl",onClick:()=>w.push("/LoginSignUp"),children:"Log In to Access"})]})]}),!0===g&&(0,r.jsx)(r.Fragment,{children:0===v.length?(0,r.jsx)("div",{className:"p-12 text-center bg-slate-50 rounded-2xl border border-dashed border-slate-300",children:(0,r.jsx)("p",{className:"text-slate-500",children:"No speaker information has been published yet."})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((e,t)=>(0,r.jsxs)("div",{className:"group bg-white rounded-2xl border border-slate-200 p-6 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col items-center text-center",children:[(0,r.jsxs)("div",{className:"relative h-24 w-24 mb-5",children:[(0,r.jsx)(o.default,{src:e.profile?"".concat(i.AS).concat(e.profile):n.A,alt:e.name||"Speaker",fill:!0,className:"rounded-full object-cover border-4 border-white shadow-md group-hover:scale-105 transition-transform duration-300"}),(0,r.jsx)("div",{className:"absolute bottom-1 right-1 w-5 h-5 bg-green-500 border-2 border-white rounded-full"})]}),(0,r.jsx)("h3",{className:"font-bold text-lg text-slate-900 mb-1",children:e.name}),(0,r.jsx)("p",{className:"text-indigo-600 font-medium text-sm mb-4 bg-indigo-50 px-3 py-1 rounded-full",children:e.organization||"Guest Speaker"}),e.bio&&(0,r.jsx)("p",{className:"text-slate-500 text-sm leading-relaxed line-clamp-3 mb-4",children:e.bio})]},t))})})]})]})]}),(0,r.jsx)(f,{existingEvent:A,isOpen:N,onClose:()=>k(!1)})]})}function v(){let e=Object.fromEntries(new URLSearchParams(window.location.search)),[t,s]=(0,l.useState)(null),[n,o]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{!async function(){try{var t;let r=((await (0,i.In)("".concat(i.AS,"/api/events/"),"GET")).events||[]).find(t=>t._id===e.id);if(!r)return void s(null);let l=await (0,i.VU)();console.log(l);let a=[];l&&(null==r||null==(t=r.speaker_ids)?void 0:t.length)&&(a=await Promise.all(r.speaker_ids.map(async e=>{try{return await (0,i.tq)({user_id:e})||null}catch(t){return console.error("Error fetching speaker",e,t),null}}))),s({...r,speakers:a.filter(Boolean)})}catch(e){console.error(e)}finally{o(!1)}}()},[e.id]),n)?(0,r.jsx)(a.A,{}):t?(0,r.jsx)("main",{className:"p-6",children:(0,r.jsx)(b,{event:t})}):(0,r.jsx)("p",{className:"p-6 text-red-500",children:"Event not found."})}},960:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r={src:"/assets/static/media/logo.21932253.png",height:779,width:779,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEX////SwcD20dPzwr7t9fGfurt5nKro7e3J29ymysbforXaxM6rvsT74tnuqaDQo7fU4uj4/Pz59/Ww2dPZ3NjWuLvtwcTZ29XZ6euLwcDGvt3gnKOVusP78eayxdOdqbTZt8+Mr7ntycW5vtCoSi2zAAAACXBIWXMAABcRAAAXEQHKJvM/AAAARUlEQVR4nBXLxxGAIAAAwUOyKJhztv8eHfe/QFlmGcCTy5TGmj2mazn8hIzhLfzcMqxC34V2NH3YTuEVqM6Yyv7NOmfhA3Z3AwyhtdhdAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},1154:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2337:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]])},2948:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3459:(e,t,s)=>{Promise.resolve().then(s.bind(s,892))},4239:(e,t,s)=>{"use strict";s.d(t,{A$:()=>r.A$,AS:()=>r.AS,DY:()=>r.DY,In:()=>r.In,Pq:()=>r.Pq,VU:()=>r.VU,Yq:()=>r.Yq,bB:()=>r.bB,eg:()=>r.eg,iD:()=>r.iD,kQ:()=>r.kQ,lh:()=>r.lh,lo:()=>r.lo,qM:()=>r.qM,s_:()=>r.s_,tq:()=>r.tq,xF:()=>r.xF,xw:()=>r.xw,zz:()=>r.zz});var r=s(2105);s(8222),s(8782)},4416:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5196:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5526:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5155),l=s(2115),a=s(8637),i=s.n(a),n=s(5799),o=s(2105),d=s(2337),c=s(4416),u=s(5196),m=s(1154),x=s(7213);let h=e=>{let{onUploadSuccess:t}=e,[s,a]=(0,l.useState)(null),[i,h]=(0,l.useState)(""),[p,g]=(0,l.useState)(!1),f=e=>{h(e.url),t(e.url),g(!1),n.oR.success("Image uploaded successfully!")},b=e=>{g(!1),n.oR.error("Image upload failed: "+e.message),console.error("Error uploading image:",e)};return(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!s)return void n.oR.error("Please select a file first.");g(!0),o.QM.handler(f,b)(e)},className:"w-full",children:[s?(0,r.jsxs)("div",{className:"relative w-full h-48 rounded-xl overflow-hidden border border-gray-200 group bg-gray-100",children:[(0,r.jsx)("img",{src:s,alt:"Preview",className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),!p&&!i&&(0,r.jsx)("button",{type:"button",onClick:()=>{s&&URL.revokeObjectURL(s),a(null),h(""),t("")},className:"absolute top-2 right-2 p-1.5 bg-white/90 hover:bg-red-50 text-gray-600 hover:text-red-600 rounded-full shadow-sm backdrop-blur-sm transition-all transform hover:scale-105",title:"Remove image",children:(0,r.jsx)(c.A,{size:18})}),i&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-[2px]",children:(0,r.jsxs)("div",{className:"bg-green-500 text-white px-4 py-2 rounded-full flex items-center shadow-lg font-medium text-sm animate-in zoom-in",children:[(0,r.jsx)(u.A,{size:16,className:"mr-2"})," Upload Complete"]})})]}):(0,r.jsxs)("label",{htmlFor:"eventImage",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-gray-300 border-dashed rounded-xl cursor-pointer bg-gray-50 hover:bg-indigo-50 hover:border-indigo-400 transition-all duration-200 group",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,r.jsx)("div",{className:"p-3 bg-white rounded-full shadow-sm mb-3 group-hover:scale-110 transition-transform",children:(0,r.jsx)(d.A,{className:"w-8 h-8 text-indigo-500"})}),(0,r.jsx)("p",{className:"mb-1 text-sm text-gray-700 font-medium",children:(0,r.jsx)("span",{className:"font-semibold text-indigo-600",children:"Click to upload"})}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"SVG, PNG, JPG or GIF"})]}),(0,r.jsx)("input",{type:"file",id:"eventImage",name:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];t&&(a(URL.createObjectURL(t)),h(""))},disabled:p,className:"hidden"})]}),s&&!i&&(0,r.jsx)("button",{type:"submit",disabled:p,className:"w-full mt-3 flex items-center justify-center py-2.5 px-4 rounded-lg text-sm font-medium text-white transition-all shadow-sm ".concat(p?"bg-indigo-400 cursor-wait":"bg-indigo-600 hover:bg-indigo-700 hover:shadow-md active:scale-95"),children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{size:16,className:"animate-spin mr-2"}),"Uploading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{size:16,className:"mr-2"}),"Confirm & Upload"]})}),i&&(0,r.jsx)("input",{type:"hidden",name:"image_url",value:i})]})};h.propTypes={onUploadSuccess:i().func.isRequired};let p=h},5716:()=>{},7213:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},8020:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(5155),l=s(6766),a=s(8274);function i(){return(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white",children:[(0,r.jsx)(a.P.div,{initial:{scale:.8,opacity:.5},animate:{scale:[.9,1.1,.9],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute w-64 h-64 rounded-full bg-gradient-to-tr from-blue-400 to-purple-500 blur-3xl opacity-30"}),(0,r.jsx)(a.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:"easeOut"},children:(0,r.jsx)(l.default,{src:"/loader.png",alt:"Loading...",width:200,height:200,priority:!0,className:"drop-shadow-lg"})}),(0,r.jsx)(a.P.p,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0},className:"mt-6 text-lg font-semibold text-gray-600",children:"Loading..."})]})}},8637:(e,t,s)=>{e.exports=s(9399)()},8782:(e,t,s)=>{"use strict";s.d(t,{Bv:()=>r,QZ:()=>a,dm:()=>o,gR:()=>n,lm:()=>l});let r=e=>new Date(new Date(e)-6e4*new Date().getTimezoneOffset()).toISOString().slice(0,16),l={primary:["#3B82F6","#8B5CF6","#EC4899","#F59E0B","#10B981"],status:{present:"#10B981",absent:"#EF4444",late:"#F59E0B",exc:"#3B82F6"},geo:["#10B981","#EF4444","#9CA3AF"]},a={"school-branch":{"School of Technology":["B.Tech.","BCA"],"School of Science":["B.Sc."],"School of Management Studies and Liberal Arts":["B.Com.","BBA"]},"branch-stream":{"B.Tech.":["Chemical","Chemical D2D","Computer Science & Engg.","Computer Science & Engg. D2D","Fire & EHS","Fire & EHS. D2D"],BCA:["General"],"B.Sc.":["Biotechnology","Chemistry","Data Science","Micro Biology"],"B.Com.":["/ B.Com (Hons.)"],BBA:["Business Analytics","HR / Marketing /Accounting & Finance / IT Mg"]}},i=e=>{try{if(!e)return null;let t=new Date(e);return isNaN(t.getTime())?null:t}catch(e){return null}},n=e=>(e&&"object"==typeof e?e._id:e)||"",o=e=>Array.isArray(e)?e.map(e=>{var t,s,r,l,o,d,c,u;let m=e.user_id||{},{school:x,degree:h,stream:p}=(e=>{if(!e)return{school:"Other",degree:"Other",stream:"Unknown"};let t=e.trim();for(let[e,s]of Object.entries(a["school-branch"]))for(let r of s)if(t.includes(r)){let s=t.replace(r,"").replace(/^[\.\/\-\s]+/,"").trim();if(a["branch-stream"][r]){let e=a["branch-stream"][r].find(e=>s.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(s.toLowerCase()));e&&(s=e)}return{school:e,degree:r,stream:s||"General"}}return{school:"Other",degree:"Other",stream:t}})(e.branch||m.branch||"Unknown"),g=null==(s=e.locations)||null==(t=s[0])?void 0:t.lat,f=null==(l=e.locations)||null==(r=l[0])?void 0:r.long,b=((e,t,s,r)=>{if(!e||!t||!s||!r)return null;let l=e=>e*Math.PI/180,a=Math.sin(l(s-e)/2)**2+Math.cos(l(e))*Math.cos(l(s))*Math.sin(l(r-t)/2)**2;return 12742e3*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))})(g,f,null==(d=e.locations)||null==(o=d.at(-1))?void 0:o.lat,null==(u=e.locations)||null==(c=u.at(-1))?void 0:c.long),v="no-locations";return v=e.locations&&0!==e.locations.length?1===e.locations.length?"single":null!==b&&b<=500?"in":"out":"no-locations",{...e,_eventId:n(e.event_id),_parsedInDate:i(e.punch_in_time),_parsedOutDate:i(e.punch_out_time),_school:x,_degree:h,_stream:p,_year:(e.year||m.year||"Unknown").toString(),_searchName:(e.name||m.name||"").toLowerCase(),_searchBranch:(e.branch||m.branch||"").toString().trim().toLowerCase(),_searchYear:(e.year||m.year||"").toString().trim().toLowerCase(),_searchEnroll:(e.enrollment_id||m.enrollment_id||"").toString().toLowerCase(),_dist:b,_distBucket:v,_distValid:null!==b&&b<=500}}):[]},9399:(e,t,s)=>{"use strict";var r=s(2948);function l(){}function a(){}a.resetWarningCache=l,e.exports=function(){function e(e,t,s,l,a,i){if(i!==r){var n=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw n.name="Invariant Violation",n}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:l};return s.PropTypes=s,s}},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(2115);let l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...i,width:l,height:l,stroke:s,strokeWidth:o?24*Number(n)/Number(l):n,className:a("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{className:o,...d}=s;return(0,r.createElement)(n,{ref:i,iconNode:t,className:a("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return s.displayName=l(e),s}}},e=>{e.O(0,[797,726,311,766,222,441,964,358],()=>e(e.s=3459)),_N_E=e.O()}]);